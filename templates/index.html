<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokemon Card Price Search</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h2>Pok√©mon Card Pricing</h2>
    <form method="POST">
      <div class="form-group">
        <label for="language">Language:</label>
        <select id="language" name="language">
          <option value="english">English</option>
          <option value="japanese">Japanese</option>
          <option value="chinese">Chinese</option>
        </select>
      </div>
      <div class="form-group">
        <label for="set_name">Set Name:</label>
        <input type="text" id="set_name" name="set_name" placeholder="Enter Set Name (e.g., Base Set, Crown Zenith)" required>
      </div>
      <div class="form-group">
        <label for="card_name">Card Name & Number:</label>
        <input type="text" id="card_name" name="card_name" placeholder="Enter Card Name & Number (e.g., charizard-ex-199)" required>
      </div>
      <button type="submit">Search Price</button>
    </form>

    {% if result %}
      {% if result.error %}
        <div class="error">
          <strong>Error:</strong> {{ result.error }}
        </div>
      {% else %}
        <div class="result">
          <div class="card-details">
            <strong>Language:</strong> {{ result.language }}<br>
            <strong>Set:</strong> {{ result.set_name }}<br>
            <strong>Card:</strong> {{ result.card_name }}
          </div>
          
          <div class="price-info">
            <div class="price-box usd-box">
              <h3>USD Price</h3>
              <div class="price">${{ result.usd_price }}</div>
              <div class="price-change">Change: ${{ result.usd_price_change }}</div>
            </div>
            <div class="price-box cad-box">
              <h3>CAD Price</h3>
              <div class="price">C${{ result.cad_price }}</div>
              <div class="price-change">Change: C${{ result.cad_price_change }}</div>
            </div>
          </div>
          
          <a href="{{ result.url }}" target="_blank" class="view-link">View on PriceCharting</a>
        </div>
      {% endif %}
    {% endif %}
  </div>
</body>
</html>